function ToggleSpiner(n){n==="hide"?document.querySelector("#loading").classList.add("hide"):document.querySelector("#loading").classList.remove("hide")}function SendParticipantToServer(){let t=document.querySelector("#AcitveP");t.addEventListener("click",function(){document.querySelector("#Active").value=this.checked});let n=document.querySelector("#sent");n!==null&&n.addEventListener("click",function(){event.preventDefault();ToggleSpiner("show");let r=n.getAttribute("data-url"),u=document.querySelector("input[name=__RequestVerificationToken]").value,t=document.querySelector("#Email").value,i=document.querySelector("#Name").value,f=document.querySelector("#Active").value,e={email:t,name:i,active:f};if(t===""){document.querySelector("#errors").innerHTML="Email is required";ToggleSpiner("hide");return}if(i===""){document.querySelector("#errors").innerHTML="Name is required";ToggleSpiner("hide");return}_post(r,u,e,SuccessSendParticipantToServer,error)})}function error(n){console.log("Erro -> Faz alguma coisa",n)}function SuccessSendParticipantToServer(n){let t=document.querySelector("#zoom_link"),i=n.atualmetting.link,r=i===null?"The link will be provide, please wait...":"Enter in Class";t.setAttribute("href",i);t.innerHTML=r;ToggleSpiner("hide")}function CreateLinkToServer(){let n=document.querySelector("#sent");n!==null&&n.addEventListener("click",function(){event.preventDefault();let t=n.getAttribute("data-url"),i=document.querySelector("input[name=__RequestVerificationToken]").value,r=document.querySelector("#Link").value;var u={link:r};_post(t,i,u,SuccessCreateLinkToServer,error)})}function CreateBindToGetParticipants(){setTimeout(GetParticipants,2e3);let n=document.querySelector("#go");n.addEventListener("click",function(){let t=document.querySelector("#mm").value,n=document.querySelector("#ss").value;(t==0||t==null)&&(t=0);(n==0||n==null)&&(n=0);var r=60*parseInt(t);let u=r+parseInt(n),i=document.querySelector("#timeronscreen");i.classList.remove("hurry");id!=null&&clearInterval(id);i.innerHTML="00:00";console.log(r,u,n);startTimer(u,i)})}function startTimer(n,t){var u=n,i,r;id=setInterval(function(){i=parseInt(u/60,10);r=parseInt(u%60,10);i=i<10?"0"+i:i;r=r<10?"0"+r:r;t.textContent=i+":"+r;--u<0&&(document.querySelector("#timeronscreen").classList.add("hurry"),clearInterval(id))},1e3)}function SuccessCreateLinkToServer(n){let i=document.querySelector("#Link"),t=document.querySelector("#errors");n.success?(t.innerHTML="done..",i.value=n.meetingSetup.link):t.innerHTML=n.errors[0].message;setTimeout(function(){t.innerHTML=""},1500)}function GetParticipants(){let n=document.querySelector("#getparticipants"),t=n.getAttribute("data-url");_get(t,SuccessGetParticipantes,error)}function SuccessGetParticipantes(n){let t=document.querySelector("#participants");t.innerHTML="";participants=[];let i=n.data;if(n.data.length===0){let n=document.createElement("li"),i=document.createTextNode("Ow now... nobody here.... ;(");n.appendChild(i);t.appendChild(n)}for(const n of i){participants.push(n);let i=document.createElement("li"),r=document.createTextNode(n.name===null?n.email:n.name);n.active||i.classList.add("inactive");i.appendChild(r);t.appendChild(i)}let r=participants.length;document.querySelector("#players").innerHTML="Players("+r+")"}function CreateBindToCreatePair(){let n=document.querySelector("#createpair");n.addEventListener("click",function(){event.preventDefault();ToggleSpiner("show");createpair();ToggleSpiner("hide")})}function createpair(){let n=[],t=document.querySelector("#pairparticipants");t.innerHTML="";for(const t of participants)t.active&&n.push(t);let i=n.length;if(i==0){addLiToUl(t,"Ow not... nobody here ... ;(");return}if(i>=2)for(let r=0;r<Math.floor(i/2);r++){n=shuffle(n);let i=n.pop();n=shuffle(n);let r=n.pop(),u=i.name+"   .................   "+r.name;addLiToUl(t,u)}else{let i=n.pop(),r=i.name+" .................Teacher";addLiToUl(t,r)}if(n.length==1){let i=n.pop(),r=i.name+" .................Teacher";addLiToUl(t,r)}}function addLiToUl(n,t){let i=document.createElement("li");i.appendChild(document.createTextNode(t));n.appendChild(i)}function shuffle(n){for(var t=n.length,r,i;0!==t;)i=Math.floor(Math.random()*t),t-=1,r=n[t],n[t]=n[i],n[i]=r;return n}function _get(n,t,i){$.ajax({type:"GET",url:n,error:function(n){i(n)},success:function(n){t(n)},dataType:"json"})}function _post(n,t,i,r,u){console.log("Posting data....",n,i);$.ajax({type:"POST",headers:{RequestVerificationToken:t},url:n,data:i,error:function(n){u(n)},success:function(n){r(n)},dataType:"json"})}let participants=[];var id=null;